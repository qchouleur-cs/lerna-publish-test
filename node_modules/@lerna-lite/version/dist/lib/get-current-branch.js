"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCurrentBranch = void 0;
const npmlog_1 = __importDefault(require("npmlog"));
const core_1 = require("@lerna-lite/core");
function getCurrentBranch(opts, gitDryRun = false) {
    npmlog_1.default.silly('currentBranch', '');
    const branch = (0, core_1.execSync)('git', ['rev-parse', '--abbrev-ref', 'HEAD'], opts, gitDryRun);
    npmlog_1.default.verbose('currentBranch', branch);
    return gitDryRun ? 'main' : branch;
}
exports.getCurrentBranch = getCurrentBranch;
//# sourceMappingURL=get-current-branch.js.map